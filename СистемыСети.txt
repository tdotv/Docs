					ОБЪЕКТЫ И УСЛУГИ ОС
Обращение пользовательской задачи к ОС за услугами называется системным вызовом.
Задачи процесса делятся на привелегированные и непривилегированные и работать сам процессор может в привилегированном режиме или в ограниченном.
	(привелигированный подразумевает выполнение любой команды, во второй - только непривилегированные).
Возврат управления системе происходит в трех случаях:
1. Аппаратные/внешние прерывания;
2. Внутренние прерывания или исключения (деление на ноль, обращение за пределы памяти);
3. Системный вызов (программные прерывания).
Ядро является единственной программой, код которой выполняется в привилегированном режиме центрального процессора.

Мультизадачность бывает пакетной, где задача перестает выполняться лишь дойдя до конца, либо когда ей требуется дождаться какого-то события (для суперкомпьютеров). 
Существует также режим разделения времени, при котором задачи дополнительно могут сменять друг друга, если одна из них успела отработать определенное кол-во времени.
Задаче выдается процессорное время и она его выполняет, поэтому такой метод (разделения времени) используется в общении с пользователем или на сервере.
!!! Выделяется также промежуточный режим реального времени, где задача планировщика не дать поработать хоть сколько-то, но и обеспечить предсказуемость "грязного" времени
(т.е. попробовать заранее узнать, успеет ли та или иная программа завершится). 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
					Что делает ОС?
		1. УПРАВЛЕНИЕ ПОЛЬЗОВАТЕЛЬСКИМИ ЗАДАЧАМИ
УПРАВЛЕНИЕ запуском и остановом процессов;
К УПРАВЛЕНИЮ задачами следует отнести планирование времени центрального процесса;
В понятие УПРАВЛЕНИЯ входит понятие управление оперативной памятью;
К УПРАВЛЕНИЮ относится также организация межпроцессорного взаимодействия (т.е. приложение1 - ОС - прложение2);
К УПРАВЛЕНИЮ мы отнесем разграничение полномочий.

		2. УПРАВЛЕНИЕ ВНЕШНИМИ УСТРОЙСТВАМИ
Абстрагирование и координация.
Координация подразумевает собой не перетягивание запросов к контроллеру для выполнения действия, а отправка запросов в ОС, которая уже решает как будут выполняться запросы
контроллером.
Абстрагирование же представляет собой видение особенностей физических устройств в некой упрощенной абстракцией.

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

				ГРАНИЦЫ ЗОНЫ ОТВЕТСТВЕННОСТИ ОС
Задачи, решаемые операционными системами:
- Управление пользовательскими задачами: запуск и останов процессов, планирование времени центрального процессора, распределение оперативной памяти, организация взаимодействия между процессами и разграничение полномочий.
- Управление внешними устройствами: абстрагирование от особенностей устройств разных моделей, координация доступа нескольких задач к одному устройству.

Операционная система не должна содержать никаких средств, направленных на организацию общения с пользователем. Т.е. графические надстройки должны общаться с пользователем, а не ОС.

*Драйвер - набор подпрограмм, отвечающих за работу с конкретным физическим устройством; как правило, драйвер действует как часть ядра операционной системы.

				Unix: семейство систем и образ мышления
1. Каждая программа должна решать ровно одну задачу, и делать это хорошо.
Отдается предпочтение текстовым данным, но есть исключения: данные, запакованные архиваторами для уменьшения хранимого объема, и данные, зашифрованные криптографией.
DNS - бинарный протокол, а электронная почта и WEB - текстовый протокол.
2. Молчание - золото. (выполнение команд и программ молча)
3. Метод, а не политика. (без уточнения, как оно должно выглядеть и функционировать).
4. Все есть файл.
5. Все есть поток байтов. Все потоки ввода-вывода делятся на позционируемые (обычные файлы, в кот. рабочая позиция может быть изменена) 
и непозиционируемые (байты передаются один за другим и на них нельзя повлиять).

				Замечания о системе X Window
Чтобы отобразить окно необходимо отправить запрос, именуемый X-протоколом.
"По ту сторону" соединения находится программа X-сервер. - Сам сервер ничего не отрисовывает, а выполняет действия в ответ на запросы.
Оконный менеджер общается с x-сервером при помощи X-протокола.

Программа, выполняющаяся на X-терминале, называется X-сервером, а пользовательский программы, выполняющиеся на сервере приложений, называются X-клиентами.
По сути услуги предоставления графических объектов предоставляет X-терминал.
X-терминал это машина, система, которая выполняет единственное назначение: поддержка x-сервера. Просто сервер приложений, который отправляет выполнение программы в другое место.

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

				Интерфейс ядра - системные вызовы
		Вызовы и их обертки
Ядро операционной системы предоставляет свои услуги пользовательским программам через интерфейс системных вызовов. В зависимости от ОС они могут сильно отличаться не только номером,
но и требовать различные константы.
		О разграничении полномочий
Разграничение полномочий разделено на идентификатор пользовтеля и идентификатор группы пользователей. (uid, gid)
Ядро системы ничего не знает о файлах etc/passwd и etc/group. Для нее это всего лишь uid и gid.

				Файловая система
Хранимая на внешнем запоминающей устройстве структура данных, содержащая всю информацию о файле, исключая его имя, называется индексным дескриптором. Каждая запись в каталоге состоит из имени файла и индексного дескриптора.
В большинстве случаев операции записи выполняются системой в асинхронном режиме.

Устройства, имевющие представление в виде файла, делятся на два типа: символьные (байт-ориентированные) - терминал, принтер, мышь и блочные (блок-ориентированные) - диски.

				Процессы




 
